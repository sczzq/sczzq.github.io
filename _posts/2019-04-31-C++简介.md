---
title: C++简介
date: 2019-04-31
categories:
- Tech
- c++
tags:
- blog
- c++
---

> 来吧，重新开始


## 前记  
  
初步了解C++，从zero开始，一种知识疏理，一种简介说明，一种读书笔记，总结性内容。

大概有这些内容，
C++的符号系统，存储和计算模型，以及如何将代码组织成程序，以完成面向过程的程序设计，或者也可称为指令式编程
抽象机制，这是精彩和复杂的地方，
还有标准库，增强可用性，减少应用程序的重复性工作，同时也是语言的一种展示方式和检验方式，


## 基础知识

### 基本概念

基本概念是最小的沙子

C++是编译性语言，区别于解释性语言，

从源代码到可执行文件的步骤一般为，源文件编译成对象文件，对象文件链接成可执行程序。
一个可执行程序适用于一种特定的硬件/系统组合，是不可移植的。
C++的可移植性，指源代码的可移植性。
java的可移植性，是指二进制码的可移植性。

核心语言功能，
标准库组件，

C++是静态语言类型
字符串字面值是指一对双引号当中的字符序列。
每个名字和每个表达式都有一个类型，类型决定所能执行的操作。
声明是一条语句，负责为程序引入一个新的名字，并指定该命名实体的类型，
类型定义一组可能的值以及一组（对象上的）操作，
对象是存放某类型值的内存空间，
值是一组二进制位，具体的含义由其类型决定，
变量是一个命名的对象，

注意，值，操作，值空间，操作空间，

初始化器列表
初始化器列表不会进行窄化转换
```c
double c{2.3};
```

可用auto避免显式指明类型

常量：const, constexpr
const：承诺不改变这个变量
constexpr：编译时求值
```c
const int a = 10;
constexpr int b = 10*10;
constexpr int func(int x){return x*x;}

```
注意，函数func的参数也应当是一个常量表达式。

选择，循环，
指针，数组，循环，
```c
char v[6];
char *p;

for (auto x : v)
	cout << x << '\n';

```

### 用户自定义类型

结构体，
```c
struct Vector {
	int sz;
	double *elem;
};
```

类，
```c
class Vector
{
	public:
		Vector(int s):elem{new double[s]},sz{s}{}
		double& operator[](int i){return elem[i];}
		int size() {return sz;}
	private:
		double *elem;
		int sz;
};
```
枚举，
```c
enum class Color {red, blue, green};
```

### 模块化

独立开发的部分，比如，函数，用户自定义类型，类层次，模版等
分离编译，理想上，最大限度地模块化，逻辑上通过语言特性描述模块，物理上通过划分文件及高效编译来充分利用模块化
名字空间，namespace yourname{ }
错误处理：
异常，运行时报告错误，try{/*do something*/}catch(exception){/*do something*/}
不变式，函数运行的前置条件，一般在函数入口，如果不通过，就直接返回
静态断言，编译时报告错误，如static_assert(4<=sizeof(int),"integers are too small")，不过，需要常量表达式，也就是可以编译时求值的表达式


变量的属性：生命周期，默认值，作用域，内存区域，链接属性

C++ 每个关键字的作用

C 每个关键字的作用

## 抽象机制

用户自定义类型与内置类型的计算表现为函数，有时泛化为模版函数或函数对象
支持面向对象编程和泛型编程的风格

### 类

具体类型
抽象类型
虚函数
类层次

### 拷贝和移动

拷贝容器
移动容器
资源管理
抑制操作

### 模版

参数化类型
函数模版
函数对象
可变参数模版
别名


