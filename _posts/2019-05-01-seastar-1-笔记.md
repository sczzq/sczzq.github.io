---
title: seastar简介一
date: 2019-05-01
categories:
- Tech
- seastar
- interruption
tags:
- blog
- seastar
- interruption
---

> SeaStar is the future.
  
首先，include/seastar/core/seastar.hh  
  
导引，  
future-module : Documentation on futures and promises, which are the seastar building blocks  
future-util : Utility functions for working with futures  
memory-module : Memory management  
networking-module : TCP/IP networking  
fileio-module : File Input/Output  
smp-module : Multicore support  
fiber-module : Utilities for managing loosely coupled chains of continuations, also known as fibers  
thread-module : Support for traditional threaded execution  
  
综述，上面列出主要的几块概念和原理以及设计方面的内容，  
future是一种语言特性，也是一种编程模型，而整个seastar就是建立在这个模型上的，所以，必须熟悉  
memory模块，管理内存的方式，seastar实现了一种管理内存的方式，不同于glibc-malloc/free中的方式  
networking模块，网络数据传输方式，可使用POSIX接口，也可使用自有的TCP实现，网络部分也是性能关注的地方，在哪里有提升和改善，与POSIC接口的不同之处  
fileio模块，文件的输入输出，不同于内核上文件系统的管理模式，同样是性能的关键  
smp模块，对多处理的支持，也就是share-nothing的思想和实现方式的一种理论概念  
fiber模块，future的处理原理  
thread模块，对传统线程执行的支持  
  
  
网络模块  
SeaStar提供简单的网络API，基于两种TCP/IP栈：  
POSIX栈，使用内核的BSD套接字接口  
本地栈，由SeaStar实现，直接操作网卡  
本地栈支持发送和接口的零拷贝，同样，也使用了SeaStar高性能无锁的设计  
主要接口：  
监听，连接  
  
  
文件IO模块  
SeaStar提供一个文件API，用于支持持久性存储  
此API是无缓存模式，也就是需要应用程序自己来管理自己的缓存，  
但是，如果缓存管理正确，可以提高性能  
  
对于随机IO或者顺序的无缓存IO，文件类提供一些读，写，丢弃和其它的操作方法  
对于顺序的缓存IO，提供输入流和输出流操作  
  
在头文件中包含的类名  
input_stream  
output_stream  
  
server_socket  
connected_socket  
socket_address  
listen_options  
transport  
  
file  
file_open_options  
stat_data  
  
  
  
  
